		ADR		R1,K_DATA
		LDR		R2,[R1]
RITORNA	B		KEYBOARD
KPRONTA	B		DISPLAY
		
DISPRONTO	CMP		R2,#0
		BEQ		SPILA
		B		IMPILA
		
		
		
KEYBOARD
		ADR		R3,KIN
		LDR		R4,[R3]
		CMP		R4,#1
		BEQ		KPRONTA
		BNE		KEYBOARD
DISPLAY
		ADR		R5,DOUT
		LDR		R4,[R5]
		CMP		R4,#1
		BEQ		DISPRONTO
		BNE		DISPLAY
INC
		ADD		R1,R1,#4
		LDR		R2,[R1]
		B		RITORNA
		
IMPILA
		SUB		SP,SP,#4
		STR		R2,[SP]
		B		INC
		
SPILA
		LDR		R12,[SP]
		ADD		SP,SP,#4
		B		FINE
		
		
FINE		END
		
D_DATA	DCD		1
KIN		DCD		1
DOUT		DCD		1
K_DATA	DCD		'A','B','C','D',0
